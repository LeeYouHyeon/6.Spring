<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ include file="../layout/header.jsp"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<div class="container-md">
<br>
	<h1>Board List Page</h1>
	<br>
	<!-- search line -->
	<form class="d-flex" role="search" action="">
		<select class="form-select me-2 w-25" name="type" aria-label="Default select example">
			<option selected>Option</option>
			<option value="t">Title</option>
			<option value="w">Writer</option>
			<option value="c">Content</option>
			<option value="tw">Title + Writer</option>
			<option value="tc">Title + Content</option>
			<option value="wc">Writer + Content</option>
			<option value="twc">All</option>
		</select>
		<input class="form-control me-2" name="keyword" type="search" placeholder="Search" aria-label="Search" aria-describedby="search-addon" required>
		<input type="hidden" name="pageNo" value="1">
		<input type="hidden" name="qty" value="${ph.pgvo.qty}">
		<button type="button" class="btn btn-success position-relative w-25">
			Search <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill text-bg-dark">
				${ph.totalCount} <span class="visually-hidden">unread messages</span>
			</span>
		</button>
	</form>
	<br>
	<table class="table">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">title</th>
				<th scope="col">writer</th>
				<th scope="col">reg_date</th>
				<th scope="col">read_count</th>
			</tr>
		</thead>
		<tbody>
			<c:forEach items="${list}" var="bvo">
				<tr>
					<th scope="row">${bvo.bno}</th>
					<td>
						<a href="/board/detail?bno=${bvo.bno}">${bvo.title}</a>
					</td>
					<td>${bvo.writer}</td>
					<td>${bvo.regDate}</td>
					<td>${bvo.readCount}</td>
				</tr>
			</c:forEach>
		</tbody>
	</table>

	<!-- paging area -->
	<nav aria-label="Page navigation example">
		<ul class="pagination justify-content-center">
			<li class="page-item"><a class="page-link ${ph.prev ? '' : 'disabled'}"
				href="/board/list?pageNo=${ph.startPage - 1}&qty=${ph.pgvo.qty}" aria-label="Previous"
			> <span aria-hidden="true">&laquo;</span>
			</a></li>

			<c:forEach var="i" begin="${ph.startPage}" end="${ph.endPage}">
				<li class="page-item"><a class="page-link ${ph.pgvo.pageNo == i ? 'active' : ''}"
					href="/board/list?pageNo=${i}&qty=${ph.pgvo.qty}"
				>${i}</a></li>
			</c:forEach>

			<li class="page-item"><a class="page-link ${ph.next ? '' : 'disabled'}"
				href="/board/list?pageNo=${ph.endPage + 1}&qty=${ph.pgvo.qty}" aria-label="Next"
			> <span aria-hidden="true">&raquo;</span>
			</a></li>
		</ul>
	</nav>
</div>

<%@ include file="../layout/footer.jsp"%>